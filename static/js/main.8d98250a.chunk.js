(this.webpackJsonpmh_classifier=this.webpackJsonpmh_classifier||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/human.2743a5cb.svg"},103:function(e,t,a){e.exports=a.p+"static/media/social_media.1639ff01.svg"},104:function(e,t,a){e.exports=a.p+"static/media/brain2.ff55f7e9.svg"},105:function(e,t,a){e.exports=a.p+"static/media/arrow.29496eec.svg"},126:function(e,t,a){e.exports=a(243)},243:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),o=a.n(s),l=a(21),i=a(22),c=a(24),d=a(23),u=a(251),p=a(117),m=a(102),h=a.n(m),f=a(103),g=a.n(f),b=a(104),E=a.n(b),y=a(105),v=a.n(y),x=a(32),w=a.n(x),_=a(69),S=a(106),L=a.n(S);function k(){return(k=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.a,e.next=3,C();case 3:return e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1).data,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return N.apply(this,arguments)}function N(){return(N=Object(_.a)(w.a.mark((function e(){var t,a,n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/mh_classifier/data/".concat("mh_dataset.csv"));case 2:return t=e.sent,a=t.body.getReader(),e.next=6,a.read();case 6:return n=e.sent,r=new TextDecoder("utf-8"),e.next=10,r.decode(n.value);case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(e,t){var a={};for(var n in e)a[n]=Math.log(e[n]/t);return a},T=function(e,t,a){for(var n=0,r=0;r<e.length;r++){var s=e[r];s in t&&(n+=t[s])}return n+Math.log(a)},j=a(249),I=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault(),n.state.status.length>20?(n.setState({error:!1}),n.props.handleStatus(n.state.status)):(n.setState({error:!0}),n.props.handleStatus(null))},n.onChange=function(e){n.setState({status:e.target.value})},n.renderValidate=function(){return n.state.error?r.a.createElement("div",{className:"ui header red"}," Please enter more than 20 characters for better accuracy. "):null},n.state={status:"",error:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui card centered container",style:{minWidth:"600px",padding:"20px"}},r.a.createElement("form",{className:"ui form clearing",onSubmit:this.onSubmit},r.a.createElement("div",{className:"field",style:{fontSize:"20pt",textAlign:"center"}},r.a.createElement("label",null,"Social Media Post"),r.a.createElement(j.a,{style:{resize:"none",marginTop:"30px"},placeholder:"Paste your friend's social media post.",onChange:this.onChange})),r.a.createElement("div",null,this.renderValidate()),r.a.createElement("button",{style:{fontSize:"20pt"},className:"ui button green right floated",type:"submit"},"Submit")))}}]),a}(r.a.Component),O=a(252),R=a(250),W=a(109),A=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).renderExplanation=function(){return r.a.createElement(r.a.Fragment,{style:{fontSize:"16pt",lineHeight:"1.4"}},r.a.createElement("br",null),"The predictor uses a Naive Bayes Maximum Likelihood Estimation algorithm to predict whether the text you input has more evidence towards being written by someone experiencing mental distress vs not. Basically, I take a data set of facebook statuses labelled to be from depressed people vs. non depressed people, look at the words they contain and count them (assuming that the order of words does not matter and that each word is probabilistically independent of one another), to get the conditional probability of that word occuring if the text was from someone who was depressed vs. not depressed and store this into tables. Then, I read in the user's inputted status and keep track of and count the words that appeared in each of the depressed vs. non depressed tables, and find the probabilty of the sequence of words based on the depressed vs non- depressed tables. I do so by taking advantage of the fact that the probability of events can be chained by multiplying them if we assume they are independent events, (in other words, the probability of seeing the words 'I am depressed' is the probability of seeing the words P('I' )x P('am') x P('depressed') ). To make things easier, I use a rule where the product of a set of terms is the same as the sum of the log of each of those terms. I build up this sum of log probabilities according to the probabilities of seeing those words in the depressed case vs. nondepressed case. Then, I compare those two sums (the log likelihood of seeing that particular set of words given they are depressed vs. nondepressed) and choose the higher one. I bias the data towards the status being nondepressed by adding a prior probability that is weighted heavier towards non-depressed, which makes you require more evidence for the status being depressesd compared to non-depressed to account for the fact that it easier to detect negative emotion vs. neutral and happy emotion. The dataset I created was very weak and small (scraped from inspirational quotes for non-depressed and testimonials of depressed people for depressed statuses), so the tool exists more of a proof of concept rather than a completely robust tool.",r.a.createElement("br",null),r.a.createElement("br",null),"Log likelihood of text showing emotional distress: "," ",r.a.createElement("b",null,n.props.depressed_LL),r.a.createElement("br",null),"Log likelihood of text showing positivity: "," ",r.a.createElement("b",null,n.props.nondepressed_LL))},n.renderResult=function(){return null===n.props.depressed_bool?r.a.createElement(O.a,{style:{fontSize:"20pt",color:"rgba(0,0,0,.4)"}},r.a.createElement("b",null,"Awaiting submission to get back results ...")):n.props.depressed_bool?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:"red",style:{fontSize:"20pt",lineHeight:"1.6"}},r.a.createElement("b",null,"It seems like they are not feeling well lately. It would be a good idea to reach out to them and give them support."),r.a.createElement("br",null)),r.a.createElement(O.a,{textAlign:"center",clearing:!0},r.a.createElement("br",null),r.a.createElement(R.a,{className:"ui basic orange",onClick:function(){return n.setState({opened:!n.state.opened})}},"See Explanation"),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"left",padding:"10px"}},n.state.opened&&n.renderExplanation()))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:"green",style:{fontSize:"20pt",lineHeight:"1.4"}},r.a.createElement("b",null,"It seems like they are doing okay, but make sure to cherish them. :)"),r.a.createElement("br",null)),r.a.createElement(O.a,{textAlign:"center",clearing:!0},r.a.createElement("br",null),r.a.createElement(R.a,{className:"ui basic orange",onClick:function(){return n.setState({opened:!n.state.opened})}},"See Explanation"),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"left",padding:"10px"}},n.state.opened&&n.renderExplanation())))},n.state={opened:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.opened),r.a.createElement(W.a,{className:"ui container"},this.renderResult())}}]),a}(r.a.Component),q=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleStatus=function(e){if(null===e)n.setState({depressed_bool:null,depressed_LL:null,nondepressed_LL:null});else{var t=function(e){for(var t=e.split(" "),a=0;a<t.length;a++)t[a]=t[a].toLowerCase().replace(/[^a-z]/,"");return t}(e),a=n.calculateEstimate(t);n.setState({depressed_bool:a})}},n.calculateEstimate=function(e){var t=T(e,n.state.depressed_log_probs,.5),a=T(e,n.state.nondepressed_log_probs,.5);return n.setState({depressed_LL:t,nondepressed_LL:a}),Math.min(t,a+-7)===t},n.state={depressed_log_probs:null,depressed_LL:null,nondepressed_log_probs:null,nondepressed_LL:null,depressed_bool:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return k.apply(this,arguments)})().then((function(t){t.shift();var a=function(e){for(var t=0,a=0,n={},r={},s=0;s<e.length;s++)for(var o=e[s],l=o[0].split(" "),i=0;i<l.length;i++){var c=l[i].toLowerCase().replace(/[^a-z]/,"");"Yes"===o[1]?(c in n?n[c]+=1:n[c]=1,t+=1):"No"===o[1]&&(c in r?r[c]+=1:r[c]=1,a+=1)}return{depressed:{total_ct:t,freq_table:n},nondepressed:{total_ct:a,freq_table:r}}}(t),n=a.depressed,r=a.nondepressed,s=z(n.freq_table,n.total_ct),o=z(r.freq_table,r.total_ct);e.setState({depressed_log_probs:s,nondepressed_log_probs:o})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"tomato",marginLeft:"10px",marginRight:"10px",alignContent:"center"}},r.a.createElement(u.a,null,r.a.createElement(u.a.Row,{columns:1},r.a.createElement(u.a.Column,null,r.a.createElement("div",{className:"ui container header centered",style:{marginTop:"50px"}},r.a.createElement("h1",{style:{textAlign:"right",fontWeight:"lighter",color:"rgba(255,255,255,1)",fontSize:"20pt"}},"( by vinh ton )"),r.a.createElement(p.a,{className:"ui large image",src:E.a,style:{minWidth:"50px",marginTop:"30px"}}),r.a.createElement("h1",{style:{fontWeight:"lighter",color:"rgba(255,255,255,1)",marginTop:"0px",fontSize:"36pt"}},"peer mental health predictor tool")))),r.a.createElement(u.a.Row,{columns:1},r.a.createElement(u.a.Column,null,r.a.createElement("div",{className:"ui container centered header",style:{marginTop:"30px"}},r.a.createElement("h1",{style:{fontWeight:"lighter",color:"rgba(255,255,255,.60)",fontSize:"20pt",textAlign:"left"}},"instructions:"),r.a.createElement("h1",{style:{fontWeight:"lighter",color:"rgba(255,255,255,.60)",fontSize:"20pt",textAlign:"left",marginTop:"-12px"}},"copy/paste a social media post from a friend that you're concerned about to see if they might be feeling depressed or not")))),r.a.createElement(u.a.Row,{columns:4,style:{marginTop:"50px"}},r.a.createElement(u.a.Column,null),r.a.createElement(u.a.Column,null,r.a.createElement(p.a,{className:"ui container large image",src:g.a,style:{minWidth:"200px"}})),r.a.createElement(u.a.Column,null,r.a.createElement(p.a,{className:"ui container large image",src:h.a,style:{minWidth:"200px"}})),r.a.createElement(u.a.Column,null)),r.a.createElement(u.a.Row,{columns:1,style:{marginTop:"50px"}},r.a.createElement(u.a.Column,null,r.a.createElement(I,{handleStatus:this.handleStatus}))),r.a.createElement(u.a.Row,{columns:1},r.a.createElement(u.a.Column,null,r.a.createElement(p.a,{className:"ui image centered",src:v.a,style:{maxWidth:"50px"}}))),r.a.createElement(u.a.Row,{columns:1},r.a.createElement(u.a.Column,null,r.a.createElement(A,{depressed_bool:this.state.depressed_bool,depressed_LL:this.state.depressed_LL,nondepressed_LL:this.state.nondepressed_LL}))),r.a.createElement(u.a.Row,{columns:1,style:{marginTop:"200px"}},r.a.createElement(u.a.Column,null,r.a.createElement("div",{className:"ui container centered header"},r.a.createElement("a",{href:"https://vinhton.com"},r.a.createElement("button",{className:"ui button inverted",style:{fontSize:"20pt"}},"see more projects"))))),r.a.createElement(u.a.Row,{columns:1,style:{marginTop:"50px"}},r.a.createElement(u.a.Column,null,r.a.createElement("h2",{style:{fontWeight:"lighter",color:"rgba(255,255,255,.70)",fontSize:"20pt"}},"disclaimer:"),r.a.createElement("h2",{style:{fontWeight:"lighter",color:"rgba(255,255,255,.70)",fontSize:"20pt",marginTop:"-12px"}},"this tool is not meant to replace formal mental health diagnosis but rather an initial step in giving your friend support"),r.a.createElement("h2",{style:{fontWeight:"lighter",color:"rgba(255,255,255,.70)",fontSize:"20pt"}})))))}}]),a}(r.a.Component);o.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.8d98250a.chunk.js.map